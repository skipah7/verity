@if (!currentUser()) {
  <div class="auth">
    <nz-input-group [nzPrefix]="prefixTemplateUser">
      <input
        type="text"
        nz-input
        placeholder="Enter your username"
        [(ngModel)]="username"
      />
    </nz-input-group>
    <ng-template #prefixTemplateUser
      ><span nz-icon nzType="user"></span
    ></ng-template>

    <button
      nz-button
      nzType="primary"
      [disabled]="!username()"
      (click)="onJoinRoom()"
    >
      Join
    </button>
  </div>
} @else {
  <div class="box starting-values" [formGroup]="form">
    <app-starting-values formControlName="startingValue" [users]="room()" />

    @if (isAdmin()) {
      <div class="buttons">
        <button nz-button nzDanger (click)="onReset()">Reset</button>
        <button
          nz-button
          nzType="primary"
          [disabled]="!isStartingValuesValid()"
          (click)="onCalculateSteps()"
        >
          Confirm
        </button>
      </div>
    }
  </div>

  @if (isStartingValuesValid()) {
    {{ tradeSteps() | json }}
  }
}
